function __processArg(e,t){var i=null;return e&&(i=e[t]||null,delete e[t]),i}function Controller(){function e(){0==E&&(d.helpView.setTouchEnabled(!1),d.helpView.backgroundColor="#383838")}function t(e,t,i){return timeSeconds=parseInt(3600*e)+parseInt(60*t)+parseInt(i)}function r(){++m,d.timerSecond.setText(":"+o(m%60)),d.timerMinute.setText(":"+o(parseInt(m/60))),d.timerHour.setText(o(parseInt(m/3600)))}function n(){++m,d.timerMainLabel.setText("Time: "+o(parseInt(m/3600))+":"+o(parseInt(m/60))+":"+o(m%60)),v=parseInt(m/3600),y=parseInt(m/60),b=m%60}function o(e){var t=e+"";return t.length<2?"0"+t:t}function a(){d.helpView.visible=!1,d.game_container.activity.onCreateOptionsMenu=function(e){var t=e.menu,i=t.add({title:"Help",icon:"help.png",showAsAction:Ti.Android.SHOW_AS_ACTION_IF_ROOM});i.addEventListener("click",function(){console.log("ok"),c()})};var e,t,r,n=0,o=0;for(d.tableView.height=Titanium.Platform.displayCaps.dpi+9,d.tableView.width=Ti.UI.SIZE,d.tableView.left=10,i=1;9>=i;i++){for(e=Ti.UI.createTableViewRow({className:"row",height:Titanium.Platform.displayCaps.dpi/9,width:Titanium.Platform.displayCaps.dpi,left:5,layout:"horizontal"}),(4==i||7==i)&&(r=Ti.UI.createView({className:"separator",height:1,width:Titanium.Platform.displayCaps.dpi+18,layout:"horizontal",backgroundColor:"#ffffff"}),e.add(r)),j=1;9>=j;j++)t=Ti.UI.createTextField({id:"case"+j*i,pos:o,height:Titanium.UI.FILL,width:Titanium.Platform.displayCaps.dpi/9,textAlign:Titanium.UI.TEXT_ALIGNMENT_CENTER,keyboardType:Titanium.UI.KEYBOARD_NUMBER_PAD,borderWidth:1,color:"#fff",top:1,bottom:1,right:1,left:1,backgroundColor:"#404040",borderColor:"#c4c4c4",maxLength:1}),(4==j||7==j)&&(r=Ti.UI.createView({className:"separator",height:Titanium.Platform.displayCaps.dpi,width:1,backgroundColor:"#ffffff"}),e.add(r)),e.add(t),A[n]=t,n++,o++;d.tableView.appendRow(e)}for(j=0;80>=j;j++)A[j].setValue(N[j]),null!=N[j]?A[j].setEnabled(!1):(A[j].addEventListener("change",function(e){s(e)}),A[j].addEventListener("focus",function(e){S=e.source.pos}))}function s(e){""!=e.source.value&&(e.source.value!=L[e.source.pos]?(e.source.backgroundColor="#bb2828",e.source.color="#ffffff"):(N[e.source.pos]=e.source.value,e.source.backgroundColor="#28bb28",e.source.color="#ffffff",e.source.setEnabled(!1))),S=e.source.pos,l()}function l(){N.toString()==L.toString()&&(f=b,g=y,T=v,alert("Well done!!!  Yout time is: "+T+":"+g+":"+f+"."),Ti.App.fireEvent("retrieveDatas",{secValues:f,minValues:g,hourValues:T,pauseValues:!1}),d.game_container.close())}function u(){f=b,g=y,T=v,Ti.App.fireEvent("retrieveDatas",{secValues:f,minValues:g,hourValues:T,curentGameValue:N,pauseValues:!0,helpCounter:E}),d.game_container.close()}function c(){console.log("enter in helpsolution"),E>0&&S>-1&&(A[S].setValue(L[S]),A[S].backgroundColor="#28bb28",A[S].color="#ffffff",A[S].setEnabled(!1),N[S]=A[S].value,E--,S=-1,d.helpLabel.setText("Solution ("+E+")"),e())}require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="game",arguments[0]&&(__processArg(arguments[0],"__parentSymbol"),__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate"));var d=this,h={},p={};d.__views.game_container=Ti.UI.createWindow({backgroundColor:"transparent",width:Ti.UI.FILL,height:Ti.UI.FILL,layout:"vertical",id:"game_container"}),d.__views.game_container&&d.addTopLevelView(d.__views.game_container),d.__views.topWrapper=Ti.UI.createView({top:"5%",left:20,right:20,height:60,layout:"horizontal",id:"topWrapper"}),d.__views.game_container.add(d.__views.topWrapper),d.__views.leftCorner=Ti.UI.createView({left:0,width:"50%",height:Ti.UI.SIZE,id:"leftCorner"}),d.__views.topWrapper.add(d.__views.leftCorner),d.__views.backView=Ti.UI.createView({left:0,width:Ti.UI.SIZE,height:Ti.UI.SIZE,backgroundColor:"#bb2828",color:"#ffffff",borderWidth:1,borderColor:"#1b1b1b",borderRadius:6,id:"backView"}),d.__views.leftCorner.add(d.__views.backView),u?d.__views.backView.addEventListener("click",u):p["$.__views.backView!click!goBack"]=!0,d.__views.backLabel=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,color:"#ffffff",font:{fontSize:15},backgroundColor:"transparent",top:"10dp",right:"10dp",bottom:"10dp",left:"10dp",verticalAlign:Titanium.UI.TEXT_VERTICAL_ALIGNMENT_CENTER,id:"backLabel"}),d.__views.backView.add(d.__views.backLabel),d.__views.rightCorner=Ti.UI.createView({right:0,width:"50%",height:Ti.UI.SIZE,id:"rightCorner"}),d.__views.topWrapper.add(d.__views.rightCorner),d.__views.timerView=Ti.UI.createView({right:0,width:Ti.UI.SIZE,height:Ti.UI.SIZE,backgroundColor:"#bb2828",color:"#ffffff",borderWidth:1,borderColor:"#1b1b1b",borderRadius:6,layout:"horizontal",id:"timerView"}),d.__views.rightCorner.add(d.__views.timerView),d.__views.timerMainLabel=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,color:"#ffffff",font:{fontSize:15},right:"10dp",top:"10dp",bottom:"10dp",left:"10dp",verticalAlign:Titanium.UI.TEXT_VERTICAL_ALIGNMENT_CENTER,layout:"horizontal",text:"",id:"timerMainLabel"}),d.__views.timerView.add(d.__views.timerMainLabel),d.__views.timerHour=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,color:"#ffffff",font:{fontSize:15},left:5,verticalAlign:Titanium.UI.TEXT_VERTICAL_ALIGNMENT_CENTER,id:"timerHour"}),d.__views.timerMainLabel.add(d.__views.timerHour),d.__views.timerMinute=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,color:"#ffffff",font:{fontSize:15},verticalAlign:Titanium.UI.TEXT_VERTICAL_ALIGNMENT_CENTER,id:"timerMinute"}),d.__views.timerMainLabel.add(d.__views.timerMinute),d.__views.timerSecond=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,color:"#ffffff",font:{fontSize:15},verticalAlign:Titanium.UI.TEXT_VERTICAL_ALIGNMENT_CENTER,id:"timerSecond"}),d.__views.timerMainLabel.add(d.__views.timerSecond),d.__views.sudoWrapper=Ti.UI.createView({top:"0%",bottom:"50dp",right:"0%",left:"0%",width:Titanium.UI.SIZE,height:Titanium.UI.SIZE,layout:"horizontal",id:"sudoWrapper"}),d.__views.game_container.add(d.__views.sudoWrapper),d.__views.tableView=Ti.UI.createTableView({height:Ti.UI.SIZE,width:Ti.UI.FILL,backgroundColor:"transparent",borderColor:"transparent",separatorColor:"transparent",top:"5dp",bottom:"5dp",right:"5dp",left:"5dp",layout:"vertical",id:"tableView"}),d.__views.sudoWrapper.add(d.__views.tableView),d.__views.bottomWrapper=Ti.UI.createView({top:10,left:20,right:20,width:Ti.UI.FILL,height:60,layout:"horizontal",id:"bottomWrapper"}),d.__views.game_container.add(d.__views.bottomWrapper),d.__views.helpView=Ti.UI.createView({width:Ti.UI.SIZE,height:Ti.UI.SIZE,backgroundColor:"#bb2828",color:"#ffffff",borderWidth:1,borderColor:"#1b1b1b",borderRadius:6,layout:"horizontal",id:"helpView"}),d.__views.bottomWrapper.add(d.__views.helpView),c?d.__views.helpView.addEventListener("click",c):p["$.__views.helpView!click!helpSolution"]=!0,d.__views.helpLabel=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,color:"#ffffff",font:{fontSize:15},backgroundColor:"transparent",top:"10dp",right:"10dp",bottom:"10dp",left:"10dp",verticalAlign:Titanium.UI.TEXT_VERTICAL_ALIGNMENT_CENTER,textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,id:"helpLabel"}),d.__views.helpView.add(d.__views.helpLabel),h.destroy=function(){},_.extend(d,d.__views);var f,g,T,m,I,v,y,b,E,w=arguments[0]||{},S=-1;d.backLabel.setText("Back");var A=[],L=[2,9,4,1,7,3,5,8,6,1,5,6,2,8,9,3,4,7,3,8,7,4,6,5,1,9,2,5,7,1,3,9,2,4,6,8,4,2,3,6,1,8,7,5,9,8,6,9,5,4,7,2,3,1,9,4,2,8,5,1,6,7,3,6,1,8,7,3,4,9,2,5,7,3,5,9,2,6,8,1,4],N=[2,,,1,,,,,6,,,6,,8,,3,,7,3,,,,6,,,,,,,,,9,,,,,,,,6,,,,,,,,,,4,7,,,1,9,,,8,,,,,3,,,,7,,,9,,,,,5,9,,6,8,1];1==w.newGame?(m=0,E=5,a(),setInterval(function(){n()},1e3)):(m=0,E=w.helpCounter,N=w.savedGameValue,a(),setInterval(function(){n()},1e3)),d.helpLabel.setText("Solution ("+E+")"),e(),(0!=w.timeHourSudoku||0!=w.timeMinuteSudoku||0!=w.timeSecondSudoku)&&(m=w.timeSecondSudoku,totalMinutes=w.timeMinuteSudoku,I=w.timeHourSudoku,m=t(w.timeHourSudoku,w.timeMinuteSudoku,w.timeSecondSudoku),setInterval(r,1e3)),p["$.__views.backView!click!goBack"]&&d.__views.backView.addEventListener("click",u),p["$.__views.helpView!click!helpSolution"]&&d.__views.helpView.addEventListener("click",c),_.extend(d,h)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;